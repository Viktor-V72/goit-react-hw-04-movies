(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{31:function(e,t,a){e.exports={MovieGallery:"MovieGallery_MovieGallery__K4wk3",MovieGalleryItem:"MovieGallery_MovieGalleryItem__3YkGV",MovieGalleryItem_image:"MovieGallery_MovieGalleryItem_image__3SJS4",title:"MovieGallery_title__2GDzB",title_head:"MovieGallery_title_head__3t2gk"}},38:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s}));var r=a(39),n=a.n(r),c="0e6eebd27dfd68a7c4ec96f04756cc6c",o=function(){return n.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(c)).then((function(e){return e.data})).catch(console.error)},i=function(e){return n.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&query=").concat(e,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data})).catch(console.error)},s=function(e){return n.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data})).catch(console.error)}},41:function(e,t,a){"use strict";var r=a(9),n=a(2),c=a(31),o=a.n(c),i=a(1);t.a=Object(n.f)((function(e){var t=e.movies,a=e.location;return Object(i.jsx)("ul",{className:o.a.MovieGallery,children:t.map((function(e){var t=e.poster_path,n=e.id,c=e.name,s=e.title;return Object(i.jsxs)("li",{className:o.a.MovieGalleryItem,children:[Object(i.jsx)(r.b,{to:{pathname:"movies/".concat(n),state:{from:a}},children:Object(i.jsx)("img",{src:"https://www.themoviedb.org/t/p/w220_and_h330_face"+t,alt:"",className:o.a.MovieGalleryItem_image})}),Object(i.jsx)("h2",{className:o.a.title,children:c||s})]},n)}))})}))},68:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__TSIK7",SearchForm:"Searchbar_SearchForm__3ae6A",SearchForm_button:"Searchbar_SearchForm_button__1mrqK",SearchForm_button_label:"Searchbar_SearchForm_button_label__2FYhi",SearchForm_input:"Searchbar_SearchForm_input__18jHb"}},71:function(e,t,a){"use strict";a.r(t);var r=a(32),n=a(33),c=a(35),o=a(34),i=a(0),s=a(38),u=a(68),l=a.n(u),h=a(1),m=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSearch(e.state.query),e.setState({query:""})},e}return Object(n.a)(a,[{key:"render",value:function(){return Object(h.jsx)("header",{className:l.a.Searchbar,children:Object(h.jsxs)("form",{className:l.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(h.jsx)("button",{className:l.a.SearchForm_button,type:"submit",children:Object(h.jsx)("span",{className:l.a.SearchForm_button_label,children:"Search"})}),Object(h.jsx)("input",{className:l.a.SearchForm_input,type:"text",value:this.state.query,onChange:this.handleChange,autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})})}}]),a}(i.Component),b=a(41),_=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],searchQuery:""},e.onChangeQuery=function(t){var a=e.props.history;e.setState({searchQuery:t,images:[],error:null}),a.push({query:t})},e.fetchMovies=function(){var t=e.state.searchQuery;Object(s.c)(t).then((function(t){return e.setState({movies:t.results})}))},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.location.query&&Object(s.c)(this.props.location.query).then((function(t){return e.setState({movies:t.results})}))}},{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.fetchMovies()}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{onSearch:this.onChangeQuery}),Object(h.jsx)(b.a,{movies:this.state.movies})]})}}]),a}(i.Component);t.default=_}}]);
//# sourceMappingURL=movies-view.0ef47c7f.chunk.js.map